{% extends "./base_main.html" %}

{% block game %}

<section>
  <h2>Room number:
    <span data-room-number='{{room.room_id}}' id='room-number'>{{room.room_id}}</span>
    Type:
    <span data-room-type='{{room.type}}' id='room-type'>{{room.type}}</span>
  </h2>
  <p data-room-players='{{room.players}}' id='room-players'>>Ожидание игроков...{{room.count_players}}</p>
  <p>Инициатор игры: {{room.author.username}}</p>
  <a href="{{room.delete_url}}">Отменить игру</a>

</section>

<section id='game'>
  <div class='grid'>
    {% for pos in positions %}
      <div id='field{{pos}}'
           class='tetris-view'
           data-pos='{{pos}}'>
           <!-- <span class='player-name'><span> -->
           {% for y in height %}
             <div data-y={{y}} class='row'>
               {% for x in width %}
                 <div data-x={{x}} class='cell'>

                 </div>
               {% endfor %}
             </div>
           {% endfor %}
           <div id='position{{pos}}'
                class='connect'
                data-pos='{{pos}}'>
                <span class='player-name'></span>
                <button id='connect{{pos}}' data-pos='{{pos}}'>Занять место</button>
           </div>

           <button id='disconnect{{pos}}' class='disconnect' data-pos='{{pos}}'>Отойти</button>
      </div>

    {% endfor %}
  </div>
</section>

{% endblock %}

{% block scripts %}
  {%for script in scripts %}
    <script type='module' src='/static/js/{{script}}.js'></script>
  {% endfor %}
{% endblock %}
